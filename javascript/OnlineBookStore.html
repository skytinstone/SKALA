<!-- 0728 html Javascript ì‹¤ìŠµê³¼ì œ -->
<!-- ì˜¨ë¼ì¸ ì„œì ì„ ìš´ì˜í•˜ëŠ” SteveëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë„ì„œ ì¬ê³  ëª©ë¡ì„ ê°€ì§€ê³  ìˆë‹¤.(í•˜ê¸° ê°ì²´ ì½”ë“œ ì°¸ì¡°)
  1. for ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ëª¨ë“  ë„ì„œ ì œëª©ì„ ì¶œë ¥í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë°˜ì˜í•´ ë³´ì„¸ìš”.
  2. for...ofë¥¼ ì‚¬ìš©í•˜ì—¬ ì¬ê³ ê°€ 1ê¶Œ ì´ìƒì¸ ë„ì„œë§Œ ì¶œë ¥í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë°˜ì˜í•´ ë³´ì„¸ìš”.
  3. forEach + ì¡°ê±´ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ "í”„ë¡œê·¸ë˜ë°" ì¹´í…Œê³ ë¦¬ë§Œ ì¶œë ¥í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë°˜ì˜í•´ ë³´ì„¸ìš”.
  4. for...ofë¥¼ ì‚¬ìš©í•˜ì—¬ ë„ì„œ ì „ì²´ ê°€ê²ªì˜ í‰ê· ì„ êµ¬í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë°˜ì˜í•´ ë³´ì„¸ìš”.
  5. ì¬ê³ ê°€ 0ì¸ ì±…ì˜ ì¬ê³ ë¥¼ 10ê¶Œ ì¶”ê°€í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë°˜ì˜í•´ ë³´ì„¸ìš”. -->

<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Minseok's Library</title>
  <style>
    body {
      font-family: 'Apple SD Gothic Neo', 'Segoe UI', sans-serif;
      background-color: #f2f4f8;
      margin: 0;
      padding: 0;
      background: url('https://upload.wikimedia.org/wikipedia/commons/0/05/Widener_Library_-_Harvard_University_-_DSC09938.jpg') no-repeat center center fixed;
      background-size: cover;
    }

    .container {
      max-width: 900px;
      margin: 40px auto;
      padding: 0 20px;
      background: rgba(255,255,255,0.9); /* ë°˜íˆ¬ëª… ë°°ê²½ */
      border-radius: 21px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(5px);
      text-align: center;
    }

    h1 {
      font-size: 32px;
      color: #2c3e50;
      margin-bottom: 30px;
    }

    form {
      background-color: #ffffff;
      padding: 24px;
      border-radius: 20px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);
      margin-bottom: 30px;
    }

    input {
      width: 80%;
      padding: 12px;
      border-radius: 12px;
      border: 1px solid #ccc;
      font-size: 16px;
      text-align: center;
      margin-bottom: 15px;
    }

    button {
      background-color: #007aff;
      color: white;
      border: none;
      padding: 12px 28px;
      border-radius: 30px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #005bb5;
    }

    .table-container {
      background: white;
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
      overflow: hidden;
      margin-bottom: 30px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 16px;
    }

    thead {
      background-color: #007aff;
      color: white;
    }

    th, td {
      padding: 14px 18px;
      text-align: center;
    }

    tbody tr:nth-child(even) {
      background-color: #f7f9fb;
    }

    tbody tr:hover {
      background-color: #eef3f8;
    }

    .book-card {
      background-color: #ffffff;
      border: 1px solid #ddd;
      border-radius: 20px;
      padding: 20px;
      margin-bottom: 30px;
      text-align: left;
      box-shadow: 0 4px 16px rgba(0,0,0,0.05);
    }

    .book-card img {
      float: left;
      margin-right: 20px;
      width: 120px;
      height: auto;
      border-radius: 10px;
    }

    .book-card::after {
      content: "";
      display: block;
      clear: both;
    }

    #refreshBtn {
      display: none;
      margin-top: 10px;
    }

    @media (max-width: 600px) {
      input {
        width: 100%;
      }
      .book-card {
        text-align: center;
      }
      .book-card img {
        float: none;
        margin: 0 auto 15px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ“˜ Minseok's Library</h1>

    <form id="isbnForm">
      <input type="text" id="isbnInput" placeholder="ISBN ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”" />
      <br />
      <button type="submit">ë„ì„œ ë“±ë¡</button>
    </form>

    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>ì œëª©</th>
            <th>ì¹´í…Œê³ ë¦¬</th>
            <th>ê°€ê²©</th>
            <th>ì¬ê³ </th>
          </tr>
        </thead>
        <tbody id="bookTableBody">
          <!-- JavaScriptë¡œ ë°ì´í„° ì‚½ì… -->
        </tbody>
      </table>
    </div>

    <div id="bookDisplayArea"></div>
    <button id="refreshBtn" onclick="location.reload()">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>
  </div>

  <script>
    const books = [
      { title: "JavaScript Entery", category: "Programming", price: 25000, stock: 3 },
      { title: "HTML5 & CSS3", category: "Web Design", price: 20000, stock: 0 },
      { title: "Fundamental of Python", category: "Programming", price: 27000, stock: 5 },
      { title: "Complete Conquering React", category: "Programming", price: 30000, stock: 1 },
      { title: "UX/UI Management", category: "Design", price: 22000, stock: 2 },
      { title: "Data Analysis", category: "Programming", price: 32000, stock: 0 }
    ];

    const tableBody = document.getElementById('bookTableBody');

    books.forEach(book => {
      const row = document.createElement('tr');
      row.innerHTML = `
        <td>${book.title}</td>
        <td>${book.category}</td>
        <td>${book.price.toLocaleString()}ì›</td>
        <td>${book.stock}ê¶Œ</td>
      `;
      tableBody.appendChild(row);
    });

    document.getElementById('isbnForm').addEventListener('submit', function (e) {
      e.preventDefault();
      const isbn = document.getElementById('isbnInput').value.trim();

      if (!isbn) {
        alert("ISBNì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
        return;
      }

      const outOfStock = books.some(book => book.stock === 0);
      if (!outOfStock) {
        alert("ëª¨ë“  ë„ì„œê°€ ì¬ê³ ë¥¼ ë³´ìœ í•˜ê³  ìˆì–´ ISBN ë“±ë¡ì´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
        return;
      }

      fetch(`https://www.googleapis.com/books/v1/volumes?q=isbn:${isbn}`)
        .then(res => res.json())
        .then(data => {
          if (data.totalItems === 0) {
            alert("í•´ë‹¹ ISBNì˜ ì±…ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
            return;
          }

          const info = data.items[0].volumeInfo;
          const newBook = {
            title: info.title || "ì œëª© ì—†ìŒ",
            category: info.categories ? info.categories[0] : "ê¸°íƒ€",
            price: Math.floor(Math.random() * 20000) + 15000,
            stock: 0,
            image: info.imageLinks ? info.imageLinks.thumbnail : '',
            description: info.description || 'ì¤„ê±°ë¦¬ ì •ë³´ ì—†ìŒ.'
          };

          const stockInput = prompt(`${newBook.title}ì˜ ì¬ê³  ìˆ˜ëŸ‰ì„ ì…ë ¥í•˜ì„¸ìš” (ìˆ«ìë§Œ):`);
          const stockNumber = parseInt(stockInput);

          if (isNaN(stockNumber) || stockNumber < 0) {
            alert("ìœ íš¨í•œ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!");
            return;
          }

          newBook.stock = stockNumber;
          books.push(newBook);
          displayBook(newBook);

          const row = document.createElement('tr');
          row.innerHTML = `
            <td>${newBook.title}</td>
            <td>${newBook.category}</td>
            <td>${newBook.price.toLocaleString()}ì›</td>
            <td>${newBook.stock}ê¶Œ</td>
          `;
          tableBody.appendChild(row);

          alert("âœ… ë„ì„œ ë“±ë¡ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!");
          document.getElementById('isbnForm').reset();
          document.getElementById('refreshBtn').style.display = 'inline-block';
        })
        .catch(error => {
          console.error("API ì˜¤ë¥˜:", error);
          alert("ë„ì„œ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
        });
    });

    function displayBook(book) {
      const container = document.getElementById('bookDisplayArea');
      const div = document.createElement('div');
      div.className = 'book-card';

      div.innerHTML = `
        <img src="${book.image || 'https://via.placeholder.com/120x160'}" alt="ì±… ì´ë¯¸ì§€">
        <h3>${book.title}</h3>
        <p>ğŸ“š ì¹´í…Œê³ ë¦¬: ${book.category}</p>
        <p>ğŸ’° ê°€ê²©: ${book.price.toLocaleString()}ì›</p>
        <p>ğŸ“¦ ì¬ê³ : ${book.stock}ê¶Œ</p>
        <p>ğŸ“ ì¤„ê±°ë¦¬: ${book.description}</p>
      `;
      container.appendChild(div);
    }
  </script>
</body>
</html>
